<div class="container">
  <app-navbar></app-navbar>
  <div class="col-md-12">
    <div class="card card-container">
      <form
        *ngIf="!isCreationSuccessful"
        name="form"
        (ngSubmit)="f.form.valid && onSubmit()"
        #f="ngForm"
        novalidate
      >
        <div class="form-group">
          <label for="title">Tytuł</label>
          <input
            type="text"
            class="form-control"
            name="title"
            [(ngModel)]="form.title"
            required
            minlength="3"
            maxlength="30"
            #title="ngModel"
          />
          <div class="alert-danger" *ngIf="title.errors && f.submitted">
            <div *ngIf="title.errors.required">Tytuł jest wymagany</div>
            <div *ngIf="title.errors.minlength">
              Tytuł musi mieć conajmnie 3 znaki
            </div>
            <div *ngIf="title.errors.maxlength">
              Tytuł może mieć maksymalnie 30 znaków
            </div>
          </div>
        </div>

        <div class="form-group">
          <label for="description">Opis</label>
          <textarea
            type="text"
            class="form-control"
            name="description"
            [(ngModel)]="form.description"
            required
            #description="ngModel"
          ></textarea>
          <div class="alert-danger" *ngIf="description.errors && f.submitted">
            <div *ngIf="description.errors.required">Opis jest wymagany</div>
          </div>
        </div>

        <div class="form-group">
          <label for="price">Cena</label>
          <input
            type="number"
            class="form-control"
            name="price"
            [(ngModel)]="form.price"
            required
            #price="ngModel"
          />
          <div class="alert-danger" *ngIf="price.errors && f.submitted">
            <div *ngIf="price.errors.required">Cena jest wymagana</div>
          </div>
        </div>

        <div class="form-group">
          <label for="quantity">Ilość</label>
          <input
            type="number"
            class="form-control"
            name="quantity"
            [(ngModel)]="form.quantity"
            required
            #quantity="ngModel"
          />
          <div class="alert-danger" *ngIf="quantity.errors && f.submitted">
            <div *ngIf="quantity.errors.required">Ilość jest wymagana</div>
          </div>
        </div>

        <div class="form-group">
          <button class="btn btn-primary btn-block">Stwórz</button>
        </div>

        <div class="alert alert-warning" *ngIf="f.submitted && !isCreationSuccessful">
          Nie udało się utworzyć oferty<br />{{ errorMessage }}
        </div>
      </form>

      <div class="alert alert-success" *ngIf="isCreationSuccessful">
        Oferta została dodana!
      </div>
    </div>
  </div>
</div>
